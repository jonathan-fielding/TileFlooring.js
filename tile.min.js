/*! TileFlooring.js 0.0.1 | (c) 2015 Kegan Myers | https://github.com/terribleplan/TileFlooring.js/blob/master/LICENSE.md */
var TileFloor=function(){function a(a){null!==a.parentElement&&a.parentElement.removeChild(a)}function b(a){this.element=a,this.originalParent=a.parent}function c(a){this.element=a}function d(a,c){if(!a.tagName||"function"!=typeof a.querySelectorAll)throw new Error("The first argument must be a DOM Element");if(!c.hasOwnProperty("elementSelector"))throw new Error("You must define an element selector");if(!c.hasOwnProperty("columns"))throw new Error("The only display mode is `columns`");if(!c.columns.hasOwnProperty("maxWidth"))throw new Error("You must define a max width for your columns");c.columns.hasOwnProperty("maxCount")||(c.columns.maxCount=1/0),this.masterElement=a,this.destroyed=!1,this.options=c,this.elements=Array.prototype.map.call(a.querySelectorAll(c.elementSelector),function(a){return new b(a)}),this.containers=[],this.containerElement=null;var d="-generated-tf"+Math.floor(1e4*Math.random());this.clearfixClassName="clearfix"+d,this.columnClassName="responsive-column"+d,this.clearfixStylesheet=document.createElement("style"),document.head.appendChild(this.clearfixStylesheet),this.clearfixStylesheet.sheet.insertRule("."+this.clearfixClassName+':after{content:"";display:table;clear:both}',0),this.clearfixStylesheet.sheet.insertRule("."+this.columnClassName+"{float:left;max-width:"+c.columns.maxWidth+"px}",0),this.flow();var e=this;this.onResize=function(){var a=e.determineColumns();return e.containers.length!==a?e.flow():void 0},window.addEventListener("resize",this.onResize,!1)}function e(a){a.removeSelf()}function f(){return document.createElement("div")}function g(a){var b=0,c=1/0;return a.forEach(function(a,d){var e=a.height();c>e&&(b=d,c=e)}),a[b]}if("function"!=typeof document.querySelectorAll)throw new Error("TileFloor is only compatible with HTML5 browsers");return b.prototype.removeSelf=function(){a(this.element)},c.prototype.removeSelf=b.prototype.removeSelf,c.prototype.height=function(){return this.element.offsetHeight},c.prototype.addChild=function(a){return this.element.appendChild(a)},d.prototype.flow=function(){var b=this;null!==this.containerElement&&a(this.containerElement),this.elements.forEach(e),this.containers.forEach(e);var d=this.determineColumns();if(0===d)throw new Error("Cowardly refusing to flow elements into 0 columns");this.containerElement=f(),this.containerElement.className=this.clearfixClassName,this.containers=new Array(d);for(var h=0;d>h;h++){var i=f();i.className=b.columnClassName,i.style.width=100/d+"%",b.containerElement.appendChild(i),this.containers[h]=new c(i)}this.masterElement.appendChild(this.containerElement),this.elements.forEach(function(a){g(b.containers).addChild(a.element)})},d.prototype.determineColumns=function(){return Math.min(Math.ceil(this.masterElement.offsetWidth/this.options.columns.maxWidth),this.options.columns.maxCount)},d}();